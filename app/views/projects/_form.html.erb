<% javascript :defaults %>

<%= error_messages_for :project %>

<% form_for @project, :builder => NestedParamsFormBuilder do |f| -%>

  <p>
    <%= f.label :name, "Project:" %>
    <%= f.text_field :name %>
  </p>
  
  <p>
    <% f.fields_for :author do |af| %>
      <%= af.label :name, "Author name:" %>
      <%= af.text_field :name %>
    <% end %>
  </p>
  
  <div id="tasks">
    <%= render :partial => 'task', :collection => @project.tasks, :locals => { :pf => f } %>
  </div>
  <p>
    <%= add_task_link "Add a task", f %>
  </p>
  <p>
    <%= f.submit "Submit" %>
  </p>
<% end -%>
